---
export type Props = Record<string, never>
---

<script is:inline>
  // On page load or when changing themes, best to add inline in `head` to avoid FOUC
  function setDark() {
    const isDark =
      localStorage.getItem("theme") === "theme-dark" ||
      (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)

    if (isDark) {
      document.documentElement.classList.add("theme-dark")
    } else {
      document.documentElement.classList.add("theme-light")
    }
  }

  setDark()
  document.addEventListener("astro:after-swap", () => {
    setDark()
  })
</script>
